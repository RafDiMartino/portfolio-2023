'use client';

import React, { useState, useLayoutEffect, useRef } from "react"
import { usePathname } from "next/navigation"
import Link from "next/link"
import classes from "./Header.module.css"
import gsap from 'gsap'

export const Header = () => {
  const headerRef = useRef<HTMLElement>(null);

  const currentRoute = usePathname();

  const [openMenu, setOpenMenu] = useState(false)

  let toggleMenu = () => {
    setOpenMenu(!openMenu)
  }

  useLayoutEffect(() => {
    let ctx = gsap.context(() => {
      gsap.fromTo(
        ".headerAnimation",
        {
          autoAlpha: 0,
        },
        {
          autoAlpha: 1,
          duration: 1,
          ease: "power2.in",
          delay: 1
        }
      )
    }, headerRef)

    return () => ctx.revert();
  }, [])

  return (
    <header ref={headerRef} className={`${classes.headerContainer}`}>
      <div className={`${classes.headerWrapper} headerAnimation`}>
        <div className={`${classes.navWrapper}`}>
          <div className={classes.logoWrapper}>
            {/* <svg width="25" height="25" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M4.99049 26.7307C4.99049 29.4841 4.97137 31.9506 4.93313 34.1304C4.93313 36.2719 4.85665 37.9545 4.70368 39.1782C4.58896 40.0195 4.41687 40.727 4.18742 41.3006C3.99622 41.8742 3.6138 42.2184 3.04018 42.3331C2.7725 42.4096 2.48569 42.467 2.17975 42.5052C1.87382 42.5435 1.58701 42.5626 1.31933 42.5626C1.01339 42.5626 0.860429 42.6773 0.860429 42.9068C0.860429 43.2127 1.16636 43.3656 1.77822 43.3656C2.19888 43.3656 2.71513 43.3465 3.32699 43.3083C3.93885 43.3083 4.5316 43.2892 5.10521 43.2509C5.67883 43.2509 6.15685 43.2318 6.53926 43.1936C6.95992 43.1936 7.17025 43.1936 7.17025 43.1936C7.24673 43.1936 7.4953 43.1936 7.91595 43.1936C8.37485 43.2318 8.92935 43.2509 9.57945 43.2509C10.2678 43.2892 11.0135 43.3083 11.8166 43.3083C12.6196 43.3465 13.4227 43.3656 14.2258 43.3656C14.8376 43.3656 15.1436 43.2127 15.1436 42.9068C15.1436 42.6773 14.9906 42.5626 14.6847 42.5626C14.417 42.5626 14.0154 42.5435 13.4801 42.5052C12.9829 42.467 12.524 42.4096 12.1034 42.3331C11.2238 42.2184 10.6502 41.8742 10.3825 41.3006C10.1148 40.727 9.94274 40.0195 9.86626 39.1782C9.71329 37.9545 9.61769 36.2719 9.57945 34.1304C9.57945 31.9506 9.57945 29.4841 9.57945 26.7307V25.354C9.57945 25.0481 9.71329 24.8951 9.98098 24.8951L17.0365 25.0098C17.3042 25.0098 17.5528 25.1245 17.7822 25.354C18.0499 25.7364 18.4132 26.2527 18.8721 26.9028C19.3692 27.5146 19.8855 28.203 20.4209 28.9678C20.9945 29.7326 21.5872 30.5357 22.1991 31.377C22.8109 32.2183 23.4228 33.0405 24.0347 33.8436C25.679 36.0233 27.0748 37.8207 28.2221 39.2356C29.3693 40.6123 30.5548 41.6257 31.7785 42.2758C32.5051 42.6964 33.3082 42.9832 34.1877 43.1362C35.0673 43.2892 36.3101 43.3656 37.9163 43.3656H41.989C42.5243 43.3656 42.8876 43.3274 43.0788 43.2509C43.27 43.2127 43.3656 43.098 43.3656 42.9068C43.3656 42.6773 43.1936 42.5626 42.8494 42.5626C42.6582 42.5626 42.3714 42.5626 41.989 42.5626C41.6065 42.5243 41.1477 42.467 40.6123 42.3905C39.8857 42.2758 38.9297 41.9698 37.7442 41.4727C36.5587 40.9756 35.182 39.9048 33.6141 38.2604C31.9315 36.4631 30.115 34.3216 28.1647 31.8359C26.2144 29.3502 24.0538 26.5968 21.6828 23.5758C24.245 21.2048 26.0423 18.9486 27.0748 16.8071C28.1074 14.6273 28.6236 12.4667 28.6236 10.3252C28.6236 9.33088 28.4707 8.41309 28.1647 7.57178C27.897 6.73047 27.5529 5.98477 27.1322 5.33466C26.7498 4.68456 26.3291 4.13006 25.8702 3.67117C25.4114 3.17403 25.0098 2.79161 24.6656 2.52392C23.136 1.41493 21.4534 0.726584 19.6178 0.458893C17.8204 0.152964 16.004 0 14.1684 0C13.7095 0 13.1359 0.0191204 12.4475 0.0573612C11.7592 0.0573612 11.0517 0.0764816 10.3252 0.114722C9.63681 0.114722 9.00583 0.133843 8.43221 0.172084C7.89683 0.172084 7.55266 0.172084 7.39969 0.172084C7.32321 0.172084 7.05552 0.172084 6.59663 0.172084C6.17597 0.133843 5.64059 0.114722 4.99049 0.114722C4.37863 0.0764816 3.70941 0.0573612 2.98282 0.0573612C2.25624 0.0191204 1.56789 0 0.917792 0C0.30593 0 0 0.152964 0 0.458893C0 0.688343 0.152965 0.803067 0.458896 0.803067C0.726585 0.803067 1.05164 0.822188 1.43405 0.860429C1.8547 0.860429 2.17975 0.898669 2.4092 0.975151C3.36524 1.16636 3.99622 1.51053 4.30215 2.00767C4.60808 2.5048 4.79928 3.25051 4.87577 4.24479C4.91401 4.70368 4.93313 5.20082 4.93313 5.73619C4.97137 6.23333 4.99049 6.92168 4.99049 7.80123C4.99049 8.64254 4.99049 9.77065 4.99049 11.1856C4.99049 12.6005 4.99049 14.417 4.99049 16.635V26.7307ZM9.57945 2.8681C9.57945 2.52393 9.73241 2.29448 10.0383 2.17975C10.3443 2.10327 10.8414 2.02679 11.5298 1.95031C12.2181 1.87382 13.002 1.83558 13.8816 1.83558C16.9791 1.83558 19.4075 2.84898 21.1666 4.87577C22.9257 6.90256 23.8052 9.71329 23.8052 13.308C23.8052 15.4877 23.461 17.3424 22.7727 18.8721C22.1226 20.3635 21.3004 21.4534 20.3061 22.1417C19.656 22.6006 18.9486 22.9065 18.1837 23.0595C17.4189 23.1742 16.6923 23.2316 16.004 23.2316C14.742 23.2316 13.5183 23.1551 12.3328 23.0021C11.1856 22.8109 10.4016 22.5815 9.98098 22.3138C9.71329 22.1608 9.57945 21.9314 9.57945 21.6255V2.8681Z" fill="#272727" />
          </svg> */}
            {/* <svg width="35" height="35" viewBox="0 0 1449 1994" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M772.825 1887.34C772.825 1887.34 768.434 1919.05 737.82 1921.03L638.619 1920.86C638.619 1920.86 674.039 1921.03 674.039 1885.89L674.158 924.235L723.402 995.281L772.825 924.06V1887.34ZM639.213 70.5211H736.574C773.774 74.1346 772.825 108.171 772.825 108.171V808.371L725.598 878.484L674.158 804.874L674.277 105.84C674.039 70.5212 639.213 70.5211 639.213 70.5211ZM1161.08 1683.47V1066.73C1161.08 994.173 1234 994.173 1234 994.173C1234 994.173 1161.08 994.173 1161.08 925.809V309.769C1161.08 240.821 1234 235.984 1234 235.984H1090.24C1090.24 235.984 1015.25 235.984 1015.25 309.769V426.216C1015.25 473.249 1001.07 542.255 974.489 581.362L918.125 664.356L917.828 70.1715C917.828 70.1715 920.498 3.90489 845.148 0.407974L456.356 0C456.356 0 530.104 0.757654 529.807 70.9874V663.074L473.147 580.663C446.092 541.381 431.615 471.851 431.615 424.409V309.769C431.615 235.984 356.444 235.984 356.444 235.984H216.068C216.068 235.984 287.976 235.984 287.976 309.769V925.809C287.976 994.173 215.059 994.698 215.059 994.698C215.059 994.698 287.976 994.173 287.976 1066.73V1683.42C287.976 1752.42 215 1752.42 215 1752.42H357.571C357.571 1752.42 431.615 1752.42 431.615 1683.47V641.451L529.807 783.251V1921.03C530.401 1993.77 456.356 1993.77 456.356 1993.77L845.148 1994C923.583 1991.26 918.659 1921.44 918.659 1921.44L918.125 782.202L1015.25 641.451V1683.47C1015.25 1752.42 1089.23 1752.42 1089.23 1752.42H1233.17C1225.04 1752.3 1161.08 1749.51 1161.08 1683.47Z" fill="white" />
              <circle cx="1341.48" cy="997.475" r="107.475" fill="white" />
              <circle cx="107.475" cy="997.475" r="107.475" fill="white" />
            </svg> */}
            {/* <svg width="35" height="35" viewBox="0 0 1156 1994" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M648.825 1816.34C648.825 1816.34 644 1849.86 613.82 1850.03L469.619 1849.86C469.619 1849.86 505.039 1849.91 505.039 1814.89V1002.09L578 1075L648.825 1004.5V1816.34ZM470.213 143.521H612.574C648.825 143.521 648.825 181.171 648.825 181.171V860.592L577.832 931.092L505.039 858L505.277 178.84C505.039 143.521 470.213 143.521 470.213 143.521ZM1083.08 1683.47V1066.73C1083.08 994.173 1156 994.173 1156 994.173C1156 994.173 1083.08 994.173 1083.08 925.809V309.768C1083.08 240.821 1156 235.984 1156 235.984H1012.24C1012.24 235.984 937.249 235.984 937.249 309.768V426.216C937.249 461.403 937.249 465.5 937.249 535.5C937.249 565 930 579.762 920 590C910 600.238 793.828 716 793.828 716V70.1715C793.828 70.1715 793.828 0 721.148 0.407974L287.356 0C287.356 0 361.104 0.757652 360.807 70.9874V714.092C360.807 714.092 261.832 615.092 237.832 591.092C234.086 587.346 216.615 575.5 216.615 536.5C216.615 454.5 217.642 452.413 216.615 424.409V309.768C216.615 235.984 141.444 235.984 141.444 235.984H1.06795C1.06795 235.984 72.9764 235.984 72.9764 309.768V925.809C72.9764 994.173 0.0593262 994.698 0.0593262 994.698C0.0593262 994.698 72.9764 994.173 72.9764 1066.73V1683.42C72.9764 1752.42 0 1752.42 0 1752.42H142.571C142.571 1752.42 216.615 1752.42 216.615 1683.47V714L360.807 858V1921.03C361.401 1993.77 287.356 1993.77 287.356 1993.77L721.148 1994C799.5 1994 794.659 1921.44 794.659 1921.44L793.828 858L937.249 714.592V1683.47C939.5 1752.42 1011.23 1752.42 1011.23 1752.42H1155.17C1147.04 1752.3 1083.08 1748.5 1083.08 1683.47Z" fill="white" />
            </svg> */}
            {/* <svg width="50" height="50" viewBox="0 0 1586 1994" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="1478.48" cy="997.475" r="107.475" fill="white" />
              <circle cx="107.475" cy="997.475" r="107.475" fill="white" />
              <path d="M863.825 1816.34C863.825 1816.34 859 1849.86 828.82 1850.03L684.619 1849.86C684.619 1849.86 720.039 1849.91 720.039 1814.89V1002.09L793 1075L863.825 1004.5V1816.34ZM685.213 143.521H827.574C863.825 143.521 863.825 181.171 863.825 181.171V860.592L792.832 931.092L720.039 858L720.277 178.84C720.039 143.521 685.213 143.521 685.213 143.521ZM1298.08 1683.47V1066.73C1298.08 994.173 1371 994.173 1371 994.173C1371 994.173 1298.08 994.173 1298.08 925.809V309.768C1298.08 240.821 1371 235.984 1371 235.984H1227.24C1227.24 235.984 1152.25 235.984 1152.25 309.768V426.216C1152.25 461.403 1152.25 465.5 1152.25 535.5C1152.25 565 1145 579.762 1135 590C1125 600.238 1008.83 716 1008.83 716V70.1715C1008.83 70.1715 1008.83 0 936.148 0.407974L502.356 0C502.356 0 576.104 0.757652 575.807 70.9874V714.092C575.807 714.092 476.832 615.092 452.832 591.092C449.086 587.346 431.615 575.5 431.615 536.5C431.615 454.5 432.642 452.413 431.615 424.409V309.768C431.615 235.984 356.444 235.984 356.444 235.984H216.068C216.068 235.984 287.976 235.984 287.976 309.768V925.809C287.976 994.173 215.059 994.698 215.059 994.698C215.059 994.698 287.976 994.173 287.976 1066.73V1683.42C287.976 1752.42 215 1752.42 215 1752.42H357.571C357.571 1752.42 431.615 1752.42 431.615 1683.47V714L575.807 858V1921.03C576.401 1993.77 502.356 1993.77 502.356 1993.77L936.148 1994C1014.5 1994 1009.66 1921.44 1009.66 1921.44L1008.83 858L1152.25 714.592V1683.47C1154.5 1752.42 1226.23 1752.42 1226.23 1752.42H1370.17C1362.04 1752.3 1298.08 1748.5 1298.08 1683.47Z" fill="white" />
            </svg> */}
            <svg width="50" height="50" viewBox="0 0 1226 2065" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M647.757 1887.34C647.757 1887.34 642.932 1920.86 612.752 1921.03L468.551 1920.86C468.551 1920.86 503.972 1920.91 503.972 1885.89V1073.09L576.932 1146L647.757 1075.5V1887.34ZM469.145 214.521H611.506C647.757 214.521 647.757 252.171 647.757 252.171V931.592L576.764 1002.09L503.972 929L504.209 249.84C503.972 214.521 469.145 214.521 469.145 214.521ZM1082.01 1754.47V1752.42V1137.73C1082.01 1065.17 1153.03 1065 1153.03 1065C1153.03 1065 1082.01 1065.17 1082.01 996.809V380.768C1082.01 311.821 1154.93 306.984 1154.93 306.984H1011.17C1011.17 306.984 1009.72 306.984 1007.21 307.183C997.96 307.92 974.396 311.377 956.932 327.595C945.174 338.514 936.181 355.217 936.181 380.768V497.216C936.181 532.403 936.181 536.5 936.181 606.5C936.181 636 928.932 650.762 918.932 661C908.932 671.238 792.76 787 792.76 787V141.171C792.76 141.171 792.76 71 720.081 71.408L430.739 71.1359L286.288 71C286.288 71 360.036 71.7576 359.739 141.987V785.092C359.739 785.092 260.764 686.092 236.764 662.092C233.018 658.346 215.547 646.5 215.547 607.5C215.547 525.5 216.574 523.413 215.547 495.409V380.768C215.547 315.053 155.918 307.866 142.876 307.08C141.275 306.984 140.376 306.984 140.376 306.984L0 307V306.984C0 306.984 71.9085 306.984 71.9085 380.768V996.809C71.9085 1065.17 0.433594 1066 0.433594 1066C0.433594 1066 71.9085 1065.17 71.9085 1137.73V1754.42C71.9085 1823.42 0.932785 1823.42 0.932785 1823.42H141.503C141.503 1823.42 173.572 1823.42 195.5 1803.77C197.072 1802.36 198.592 1800.85 200.045 1799.23C209.116 1789.12 215.547 1774.79 215.547 1754.47V1752.3V785L359.739 929V1992.03C360.333 2064.77 289.629 2065 289.629 2065H720.081C747.886 2065 765.215 2055.86 776 2044.07C792.977 2025.51 793.742 2000.38 793.643 1993.97C793.627 1992.98 793.591 1992.44 793.591 1992.44L792.76 929L936.181 785.592V1754.47C938.432 1823.42 1010.17 1823.42 1010.17 1823.42H1154.1C1145.97 1823.3 1082.01 1819.5 1082.01 1754.47Z" fill="#C09E6B" />
              <path d="M718.757 1816.34C718.757 1816.34 713.932 1849.86 683.752 1850.03L539.551 1849.86C539.551 1849.86 574.972 1849.91 574.972 1814.89V1002.09L647.932 1075L718.757 1004.5V1816.34ZM540.145 143.521H682.506C718.757 143.521 718.757 181.171 718.757 181.171V860.592L647.764 931.092L574.972 858L575.209 178.84C574.972 143.521 540.145 143.521 540.145 143.521ZM1153.01 1683.47V1066.73C1153.01 994.173 1225.93 994.173 1225.93 994.173C1225.93 994.173 1153.01 994.173 1153.01 925.809V309.768C1153.01 240.821 1225.93 235.984 1225.93 235.984H1082.17C1082.17 235.984 1050.61 235.984 1028.43 256.136C1026.99 257.447 1025.59 258.844 1024.23 260.331C1014.72 270.801 1007.73 285.773 1007.21 307.183C1007.19 308.035 1007.18 308.896 1007.18 309.768V426.216C1007.18 461.403 1007.18 465.5 1007.18 535.5C1007.18 565 999.932 579.762 989.932 590C979.932 600.238 863.76 716 863.76 716V70.1715C863.76 70.1715 863.76 0 791.081 0.407974L357.288 0C357.288 0 431.036 0.757652 430.739 70.9874V71.1359V714.092C430.739 714.092 331.764 615.092 307.764 591.092C304.018 587.346 286.547 575.5 286.547 536.5C286.547 454.5 287.574 452.413 286.547 424.409V309.768C286.547 235.984 211.376 235.984 211.376 235.984H71C81.182 236.474 141.301 242.165 142.876 307.08C142.898 307.965 142.908 308.861 142.908 309.768V925.809C142.908 994.173 71.9085 995 71.9085 995C71.9085 995 142.908 994.173 142.908 1066.73V1683.42C142.908 1752.42 71.9085 1752.42 71.9085 1752.42H212.503C212.503 1752.42 213.608 1752.42 215.547 1752.3C224.346 1751.73 250.323 1748.57 268.288 1731.1C268.659 1730.74 269.027 1730.37 269.39 1730C279.324 1719.82 286.547 1705.01 286.547 1683.47V714L430.739 858V1921.03C431.333 1993.77 359.737 1994 359.737 1994H791.081C791.945 1994 792.799 1993.99 793.643 1993.97C816.718 1993.5 832.318 1986.57 842.856 1977.16C844.528 1975.67 846.073 1974.12 847.5 1972.52C866.571 1951.12 864.591 1921.44 864.591 1921.44L863.76 858L1007.18 714.592V1683.47C1009.43 1752.42 1081.17 1752.42 1081.17 1752.42H1082.01H1225.1C1216.97 1752.3 1153.01 1748.5 1153.01 1683.47Z" fill="white" />
              <path d="M956.932 327.595C974.396 311.377 997.96 307.92 1007.21 307.183C1007.73 285.773 1014.72 270.801 1024.23 260.331L956.932 327.595Z" fill="#C09E6B" />
              <path d="M1082.01 1752.42V1754.47C1082.01 1819.5 1145.97 1823.3 1154.1 1823.42L1225.1 1752.42H1082.01Z" fill="#C09E6B" />
              <path d="M359.737 1994C359.05 2064.77 289.629 2065 289.629 2065L359.737 1994Z" fill="#C09E6B" />
              <path d="M71.9085 1754.42V1752.42L0.932785 1823.42C0.932785 1823.42 71.9085 1823.42 71.9085 1754.42Z" fill="#C09E6B" />
              <path d="M71.9085 996.809V995L0.433594 1066C0.433594 1066 71.9085 1065.17 71.9085 996.809Z" fill="#C09E6B" />
              <path d="M286.288 71L430.739 71.1359V70.9874C431.036 0.757652 357.288 0 357.288 0L286.288 71Z" fill="#C09E6B" />
              <path d="M215.547 1752.3V1754.47C215.547 1774.79 209.116 1789.12 200.045 1799.23L268.288 1731.1C250.323 1748.57 224.346 1751.73 215.547 1752.3Z" fill="#C09E6B" />
              <path d="M793.643 1993.97C793.742 2000.38 792.977 2025.51 776 2044.07L842.856 1977.16C832.318 1986.57 816.718 1993.5 793.643 1993.97Z" fill="#C09E6B" />
              <path d="M140.376 306.984C140.376 306.984 141.275 306.984 142.876 307.08C141.301 242.165 81.182 236.474 71 235.984L0 307L140.376 306.984Z" fill="#C09E6B" />
            </svg>
          </div>
          <div className={classes.burgerMenu} onClick={toggleMenu}>
            <i className={openMenu ? classes.open : classes.close}></i>
            <i className={openMenu ? classes.open : classes.close}></i>
            <i className={openMenu ? classes.open : classes.close}></i>
          </div>
          <nav className={openMenu ? classes.mobileNavLinks : classes.mobileNavLinksClosed}>
            <ul>
              <li onClick={toggleMenu}><Link href="/" className={currentRoute === "/" ? classes.active : ""}>HOME</Link></li>
              <li onClick={toggleMenu}><Link href="/projects" className={currentRoute === "/projects" ? classes.active : ""}>PROJECTS</Link></li>
              <li onClick={toggleMenu}><Link href="/contact" className={currentRoute === "/contact" ? classes.active : ""}>CONTACT</Link></li>
            </ul>
          </nav>
          <nav className={classes.desktopNavLinks}>
            <ul>
              <li><Link href="/" className={currentRoute === "/" ? classes.active : ""}>HOME</Link></li>
              <li><Link href="/projects" className={currentRoute === "/projects" ? classes.active : ""}>PROJECTS</Link></li>
              <li><Link href="/contact" className={currentRoute === "/contact" ? classes.active : ""}>CONTACT</Link></li>
            </ul>
          </nav>
        </div>
      </div>
    </header>
  )
}
